<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>Travel - 主页</title>
    <!--[if lt IE 8]>
    <meta http-equiv="refresh" content="0;ie.html" />
    <![endif]-->

    <link rel="shortcut icon" href="favicon.ico">
    <link href="${ctxPath}/static/css/init.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/layui/layui.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
    <link href="${ctxPath}/static/css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
    <link href="${ctxPath}/static/css/travelStyle.css" rel="stylesheet">

    <script src="${ctxPath}/static/js/common/Feng.js"></script>
    <script type="text/javascript">
        Feng.addCtx("${ctxPath}");
        Feng.sessionTimeoutRegistry();
    </script>

    <script src="${ctxPath}/static/js/common/MaoPage.js"></script>

</head>
<style>
    .a1{
        border: 1px dashed red;
    }
</style>

<div id="wrapper">

    <input type="hidden" id="page-info" value="${page.total}"  page-size="${page.size!}" page-current="${page.current}" page-currTypeId="${productTypeId!}"
           page-currGradeId="${gradeId}"  page-currRegionId="${regionId}" page-currBrandId="${brandId}" />

    <!-- 头部边栏开始 -->
    @include("/common/t_Header.html"){}

    <!--身体部分开始-->
    @include("/travel/hotel/t_hotel_list.html"){}

    <!-- 底部边栏开始-->
    @include("/common/t_Footer.html"){}


</div>

<body>

</body>
<script src="${ctxPath}/static/js/jquery.min.js?v=2.1.4"></script>
<script src="${ctxPath}/static/js/bootstrap.min.js?v=3.3.5"></script>
<script src="${ctxPath}/static/css/plugins/layui/layui.js"></script>

<script>

   /* layui.use(['laypage','layer'], function (){
        var laypage = layui.laypage, layer = layui.layer,$pageInfo = $('#page-info');

        laypage.render({
            elem: 'demo7',
            curr: $pageInfo.attr('page-current'),
            count: $pageInfo.val(),
            limit : $pageInfo.attr('page-size'),
            layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip'],
            jump: function (obj,first){
                if(!first){
                    var currProductType = $pageInfo.attr('page-currTypeId'),currRegionId = $pageInfo.attr('page-currRegionId'),
                    currGradeId=$pageInfo.attr("page-currGradeId"),currBrandId=$pageInfo.attr("page-currBrandId");
                    //window.location.href = Feng.ctxPath + "/travel/scenicSpotList/" + (obj.curr - 1) * obj.limit + "/" + obj.limit + "/"+currProductType+"/"+currRegionId;
                    window.location.href = Feng.ctxPath + "/travel/hotelList.html/" + obj.curr + "/" + obj.limit + "/"+currProductType+"/"+currGradeId+"/"+currRegionId+"/"+currBrandId;
                }
            }
        });
    });*/

   var $input = $("#page-info");
   var arr = ['page-currTypeId','page-currGradeId','page-currBrandId','page-currRegionId'];
   var p = new MaoPage({id:'demo7',inputId:'page-info',url:"/travelHotel/hotelList"});
   p.setParam(arr).start();


    function currRegion(me){
        var $me =$(me);
        var regionId = $me.attr('value');
        $('#page-info').attr('page-currRegionId',regionId);
        $me.siblings(".btn-warning").removeClass("btn-warning").addClass("btn-info");
        $me.removeClass("btn-info").addClass("btn-warning");

    };

    function currType(me){
        var $me =$(me),currProductTypeId = $me.attr('value');
        console.log(currProductTypeId);
        $('#page-info').attr('page-currtypeid',currProductTypeId);
        $me.siblings(".cur").removeClass("cur");
        $me.addClass("cur");
    }

    function currGrade(me){
        var $me =$(me);
        var gradeId = $me.attr('value');
        $('#page-info').attr('page-currGradeId',gradeId);
        $me.siblings(".btn-warning").removeClass("btn-warning").addClass("btn-info");
        $me.removeClass("btn-info").addClass("btn-warning");

    };

    function currBrand(me){
        var $me =$(me);
        var brandId = $me.attr('value');
        $('#page-info').attr('page-currBrandId',brandId);
        $me.siblings(".btn-warning").removeClass("btn-warning").addClass("btn-info");
        $me.removeClass("btn-info").addClass("btn-warning");

    };


</script>

</html>